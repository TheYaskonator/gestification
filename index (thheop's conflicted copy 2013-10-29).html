<!doctype html>
<html lang=en>
<head>
<title>Gestification</title>
<meta charset=utf-8>
<meta name=author content='Theo Armour'>
</head>
<body>
<script src=http://jaanga.github.io/libs/md/showdown.js ></script>
<script>
// to add 
// menu highlighting
// hash linking

	var thing = {};
	var converter = new Showdown.converter();

	document.body.style.cssText = 'font: bold 12pt monospace; overflow: hidden;';

	var menu = document.body.appendChild( document.createElement( 'div' ) );
	menu.style.cssText = 'left: 2%; position: absolute; overflow: auto; top: 0; width: 15%; min-width: 250px';
	menu.innerHTML = '<h1><a href=../ >Jaanga</a><br>' +
		'<a href="" >Gestification</a></h1>' +

		'<p><i><small>Apps for Leap Motion devices that may come in handy.<br>Do keep your fingers crossed...</small></i></p>' +

		'<p><a href=JavaScript:displayPage("readme.md"); >Introduction</a><br>' +
			'<a href=JavaScript:displayPage("copyright-license-credits.md") >License & Credits</a></p>' +
		'<br>' +

		'<p><a href=JavaScript:displayOverview("cookbook"); >Cookbook</a></p>' +
		'<p><a href=JavaScript:displayOverview("projects"); >Projects</a></p>' +
		'<p><a href=JavaScript:displayOverview("work-in-hand"); >Work-in-hand</a></p>' +
		'<br>' +

		'<p style=color:red; ><br><i>2013-10-29: Gestification is currently under heavy construction right now. Many things are broken...</i></p>' +
		'<p style=color:red; ><i>If you are having issues, the easiest thing is to visit the source code site: ' +
			'<a href="https://github.com/jaanga/gestification/" target="_blank">jaanga/gestification</a></i></p>' +
	'';

	thing.border = 'outline: black groove thin; ';
	thing.borderNo = 'border: black groove 0px; ';
	thing.height = ' height: ' + (window.innerHeight * 0.45) + 'px;';
	thing.height2 = ' height: ' + (window.innerHeight * 0.30) + 'px;';
	thing.heightFull = ' height: ' + (window.innerHeight * 0.90) + 'px;';
	thing.left = ' left: 25%;';
	thing.left2 = ' left: 88%;';
	thing.overHide = 'overflow: hidden;';
	thing.overScroll = 'overflow: scroll;';
	thing.position = 'position: absolute;';
	thing.top = ' top: ' + (window.innerHeight * 0.05) + 'px;';
	thing.top2 = ' top: ' + (window.innerHeight * 0.60) + 'px;';
	thing.width = ' width: 60%; ';

	thing.app = document.body.appendChild( document.createElement( 'div' ) );
	thing.app.style.cssText = thing.borderNo;
	thing.appStyle = 'padding: 20px;' + thing.border + thing.height + thing.left + thing.overHide + thing.position + thing.top + thing.width;
	
	thing.ifr = thing.app.appendChild( document.createElement( 'iframe' ) );
	thing.ifr.style.cssText = thing.borderNo + thing.heightFull + ' width: ' + window.innerWidth + 'px;';

	thing.readme = document.body.appendChild( document.createElement( 'div' ) );
	thing.readmeStyle = 'padding: 20px;' + thing.border + thing.height2 + thing.left + thing.overScroll + thing.position + thing.top2 + thing.width;
	thing.readmeStyleFull = thing.borderNo + thing.heightFull + thing.left + thing.overScroll + thing.position + thing.top + thing.width;

	thing.runApp = document.body.appendChild( document.createElement( 'div' ) );
	thing.runApp.style.cssText = thing.left2 + thing.position + thing.top + ' width: 100px; ';

	thing.viewSource = document.body.appendChild( document.createElement( 'div' ) );
	thing.viewSource.style.cssText = thing.left2 + thing.position + thing.top2 ;

/*
	if ( !location.hash ) {
		thing.ifr.src = 'projects/home-page/r2/introduction.html';
	} else {
		thing.ifr.src = location.hash.substr(1);
	}
*/
	displayPage( 'readme.md' );

	function displayPage( readme ) {
		thing.ifr.src = thing.runApp.innerHTML = thing.viewSource.innerHTML = '';
		thing.app.style.cssText = thing.borderNo;
		thing.readme.style.cssText = thing.readmeStyleFull;
		thing.readme.innerHTML = converter.makeHtml( requestFile( readme ) );
	}

	function displayOverview( folder ) {
		thing.app.style.cssText = thing.appStyle;
		thing.ifr.src = folder + '/index.html';

		thing.readme.style.cssText = thing.readmeStyle;
		thing.readme.innerHTML = converter.makeHtml( requestFile( folder + '/readme.md' ) );
		
		thing.runApp.innerHTML = '<a href="' + folder + '/index.html" target="_blank">Run<br>viewer/browser<br>HTML app<br>in <br>new tab</a>';		
		thing.viewSource.innerHTML = '<a href="https://github.com/jaanga/gestification/tree/gh-pages/' + folder + 
			'/" target="_blank">View<br> source code<br> on GitHub<br>in <br> new tab</a>';		
	}

	function requestFile( fname ) {
		var xmlHttp = null;
		xmlHttp = new XMLHttpRequest();
		xmlHttp.open( 'GET', fname, false );
		xmlHttp.send( null );
		return xmlHttp.responseText;
	}
</script>
</body>
</html>